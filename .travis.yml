sudo: required
dist: trusty
addons:
  artifacts:
    paths:
      - results
  apt:
    sources:
      - google-chrome
    packages:
      - google-chrome-stable
language: node_js
node_js:
  - '7'
cache:
  directories:
    - node_modules
    - bower_components
    - $HOME/.npm
    - $HOME/.cache
before_script:
  - npm install
before_deploy:
  - npm run build
env:
  global:
    - NODE_ENV=testing
    - ARTIFACTS_BUCKET=js-tasks-ru
    - secure: >-
        Pnb2shidRcR/HuNOuAVWkpkyjZppcuvIDSTXxaDtpGCF2jERMKyIxeHoijYIaa5O7y7NVaUhOLEJmI1E3JOgMjHgJjsWePc9moUtndIEZsgS1gBzOLqcxQZeQTX9QuVa4pCITto2kreUbPtqooOPUHSLB8O/btlCPRA/LJos5mpa3Vu5cNO3v6ZWBOFJ9M32trJvKW1hbicShrsKOdmu2na4ga99DkXrONjQvVLovB7TPjGOGWvY6uU0D5nNCDEq58aTehNtcH7TQZottq3u20EhY31EsdN8ST3eaTBAtVUSVOUcUargWuK+nnKlDUtInsL7V1iH7tZjg2BeBmNAXeOLWt2cU5s9kcWnBtTZwBw/uQv7MbDFqL6XupF3ccT3kUAXo8e9hY/XfdKjdn+CURmrL9/rGXSCNjWgyAKaQh+ekrKP4gibempGS0vHuxAC/WmhnGALlENCYGEC8e6S8sU+t1P9znduunqy7fnX1wpvIWk1PUgHV/eQlOCsyEgb3OLBZYmZ06zus4GUpO33C7r/vrAcALHIRuWKmcfF8SmfZGWwpMd/c7S3kGgEfqCuCvPwyUspyEYnnrH1k4JEke67eUx6G4tTQbK3kd55r6RLL7I9OoMKnR/98Qt7A5tVCNrmgRocLywbgUDM1Z8mvkDpYnnm4htAOkpX9cm1CDE=
    - secure: >-
        f1XGRYtZiHst/RqEkoES9dLGHiI351HM/y9WkGUfgfnczwlbAM8Bs4QCNnI1cFNVB+nd+JZfGK5Or0YymyFQuAdM6r519NXhbzNc/h9LpA2u7m6fiD1zrdeoIxTjev5glzbm2u8i0z9Dg0iymaFgZF7YtE1b7fA0poglIyJm5HevagWa4nZlXhyU8GJ5GspnQXKhX40n0ClE9o0XIlmFR4d2/XsTTA446XmP9hz8fXBl8L5SUaZQbCkHIHB4Yp+K/HcRyP2S+n4YEK9dSyDSZXYliZJeUtlhuLkI1wiwQcF1A5MYDvrWpIHnX9ECQCY+YMitIUDRK5lQ+OaNr8vVqEpsrgKA9rvY9lOh3VBA4819jGfckL1Yw9o9/13CrAs7LWbt0TPA/Pzb/H+1Zu9IHX9Ce2aMHAX1m6z5ZpuM6qxWde51W7o/w69hFWbtfydhBlsLDI18s6pJevdgPS0B8Mg/aUXbpqIH/4KQ9nyo32SBKBCQm32a2Ri9au17TaC8m5dr0cNjBv+o8TTPoRRp3bjkD5RMyUGuI4X7RhMhptK6IOsoGkGoW4nAYuyNmRUj1sekGdGg74W+AJuO6GEy31TfeYkZZ5Q+YIvU4KQI4tz8z1IsLPKlew1y4G/2PrCYUHxkCkZpeajxucMMyB48rNuBiOhJ/u6YNSsq8MaxOsk=
script:
  - npm run test
notifications:
  webhooks: 'http://learn.javascript.ru/automation/ci/build'
